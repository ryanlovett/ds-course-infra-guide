

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Deploying JupyterHub &#8212; The Data Science Educator’s Guide to Technology Infrastructure</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Customizing the JupyterHub environment (TLJH)" href="tljh_customize_deployment.html" />
    <link rel="prev" title="Choosing where your JupyterHub will run" href="choosing_cloud.html" />


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<!-- Put requirejs at the end so it's always after bootstrap -->
<!-- TODO: remove this once https://github.com/pandas-dev/pydata-sphinx-theme/pull/149 is merged -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          

<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/data8.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">The Data Science Educator’s Guide to Technology Infrastructure</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
<li class="navbar-special">
<p class="margin-caption">JupyterHub</p>
</li>
  <li class="">
    <a href="intro.html">JupyterHub Overview</a>
  </li>
  <li class="">
    <a href="choosing_cloud.html">Choosing where your JupyterHub will run</a>
  </li>
  <li class="active">
    <a href="">Deploying JupyterHub</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="tljh_customize_deployment.html">Customizing the JupyterHub environment (TLJH)</a>
    </li>
    <li class="">
      <a href="k8s_customize_hub_environment.html">Customizing the JupyterHub environment (Kubernetes)</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="administering.html">Administering JupyterHub</a>
  </li>
  <li class="">
    <a href="jupyterhub_devops.html">The DataHub Development Operations Process</a>
  </li>
  <li class="">
    <a href="data8.html">The Data 8 Tech Stack @ Berkeley</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Autograding</p>
</li>
  <li class="">
    <a href="../autograding/intro.html">Autograding Overview</a>
  </li>
  <li class="">
    <a href="../autograding/okpy.html">OkPy</a>
  </li>
  <li class="">
    <a href="../autograding/otter.html">Otter Grader</a>
  </li>
<li class="navbar-special">
<p class="margin-caption">Reference</p>
</li>
  <li class="">
    <a href="../faq.html">Frequently Asked Questions (FAQ)</a>
  </li>
</ul>
</nav>
<p class="navbar_footer">Powered by <a href="https://jupyterbook.org">Jupyter Book</a></p>
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../_sources/jupyterhub/setup_jupyterhub.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        

        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-distribution-of-jupyterhub-should-i-use" class="nav-link">What distribution of JupyterHub should I use</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#deploy-jupyterhub-on-a-single-vm-50-students" class="nav-link">Deploy JupyterHub on a single VM ( <= 50 students)</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#deploy-jupyterhub-on-kubernetes-50-students" class="nav-link">Deploy JupyterHub on Kubernetes ( > 50 students)</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-kind-of-hardware-should-i-use" class="nav-link">What kind of hardware should I use</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#how-much-will-this-cost" class="nav-link">How much will this cost</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#next-steps" class="nav-link">Next steps</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 col-xxl-7 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="deploying-jupyterhub">
<h1>Deploying JupyterHub<a class="headerlink" href="#deploying-jupyterhub" title="Permalink to this headline">¶</a></h1>
<p>JupyterHub gives each of your students access to their own
computational environment. Each student will have their own account with their own storage and workspaces so they can interact with the course material. JupyterHub has made great improvements to scalability and reliability in recent years, and has adopted modern-day cloud deployment technology such as Kubernetes. This section
covers how to set up a JupyterHub that runs the environment needed for
Data 8.</p>
<div class="section" id="what-distribution-of-jupyterhub-should-i-use">
<h2>What distribution of JupyterHub should I use<a class="headerlink" href="#what-distribution-of-jupyterhub-should-i-use" title="Permalink to this headline">¶</a></h2>
<p>JupyterHub has a few “distributions” that make it easy to set up on a particular
kind of cloud infrastructure. Which one you choose will depend on your use case.
This section provides some information to help you decide.</p>
<p>There are two recommended methods for running a JupyterHub for your course: on a single VM or using Kubernetes clusters.
Which one you choose depends on the size and computational demands of the course.
To run the code in Data 8, students do not need high-powered environments.</p>
<p>Once you’ve followed either of the sections below, you should have a JupyterHub available at a
public address. The next section of this guide will focus on customizing the
environment that this JupyterHub serves in order to work with the Data 8
course materials.</p>
<div class="section" id="deploy-jupyterhub-on-a-single-vm-50-students">
<h3>Deploy JupyterHub on a single VM ( &lt;= 50 students)<a class="headerlink" href="#deploy-jupyterhub-on-a-single-vm-50-students" title="Permalink to this headline">¶</a></h3>
<p>For classes with 50 or fewer students we recommend
<a class="reference external" href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/"><strong>The Littlest JupyterHub</strong></a>, which deploys JupyterHub on a single virtual machine (VM). To set up The Littlest JupyterHub, follow the <a class="reference external" href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/install/index.html">installation guide</a> specific to the cloud provider you are using to deploy a JupyterHub with a publicly-accessible IP address.</p>
</div>
<div class="section" id="deploy-jupyterhub-on-kubernetes-50-students">
<h3>Deploy JupyterHub on Kubernetes ( &gt; 50 students)<a class="headerlink" href="#deploy-jupyterhub-on-kubernetes-50-students" title="Permalink to this headline">¶</a></h3>
<p>For classes with more than 50 students we recommend the
<a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/"><strong>Zero to JupyterHub for Kubernetes</strong></a> guide.
This method uses an open-source technology called <a class="reference external" href="https://kubernetes.io/">Kubernetes</a>
to manage resources in the cloud. It is more complex, but much more scalable than
running JupyterHub on a single VM. This is what Data 8 uses at Berkeley.
Kubernetes are rapidly gaining popularity, and are generally easily-deployable
on all of the major cloud providers.</p>
<p>To set up JupyterHub on Kubernetes, follow the section of
Zero to JupyterHub that is relevant to the cloud
provider you are using. You will need to complete the following steps (which are linked
in the Z2JH guide, and are aslo listed below for clarity):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/create-k8s-cluster.html">Initialize Kubernetes on your cloud provider</a>
so that we can run kubernetes to set up JupyterHub.</p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-helm.html">Set up Helm</a>, a way to quickly install applications (like JupyterHub) using Kubernetes.</p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html">Install JupyterHub</a>,
which gives us a fully-functional (though bare-bones) JupyterHub installation!</p></li>
</ul>
</div>
</div>
<div class="section" id="what-kind-of-hardware-should-i-use">
<h2>What kind of hardware should I use<a class="headerlink" href="#what-kind-of-hardware-should-i-use" title="Permalink to this headline">¶</a></h2>
<p>One of the first things you will need to do when setting up JupyterHub is to choose the kind
of machines on which you will run the course infrastructure. For the Littlest JupyterHub there are a lot of choices to be made. You will need to decide what kinds of compute, storage, and memory usage requirements you anticipate. For Kubernetes there is an added dimension of clusters to consider when provisioning multiple nodes. Do you want fewer machines with a lot of RAM? Do you want machines with really fast CPUs? For
example, here is a list of <a class="reference external" href="https://cloud.google.com/compute/docs/machine-types">all google cloud machine types</a>
which you could pick from.</p>
<p>There is no single correct answer to what kind of machines you need for your class. However,
we have found that RAM is often the biggest bottleneck for a course like Data 8. With Kubernetes, we recommend
choosing machines which have a larger amount of RAM (and using fewer of them in the course, since
each machine will be able to accommodate more students).</p>
<!--- Link Atharva JH guide when published -->
</div>
<div class="section" id="how-much-will-this-cost">
<h2>How much will this cost<a class="headerlink" href="#how-much-will-this-cost" title="Permalink to this headline">¶</a></h2>
<p>There are many factors that go into assessing how much it will cost to deploy
Data 8 for your course. The biggest of these are CPU and RAM that each student
will need to have available. For details on how choices of hardware using Kubernetes affect the cost of the
deployment, we recommend checking out the <a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/cost.html">Zero to JupyterHub deployment costs guide</a>.</p>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a running JupyterHub, the next step is to choose either a customized JupyterHub with <a class="reference internal" href="tljh_customize_deployment.html"><span class="doc">The Littlest JupyterHub deployment</span></a> (for total classroom sizes &lt;50 students) or a <a class="reference internal" href="k8s_customize_hub_environment.html"><span class="doc">Kubernetes deployment</span></a> (for total classroom sizes &gt;=50 students).</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="choosing_cloud.html" title="previous page">Choosing where your JupyterHub will run</a>
    <a class='right-next' id="next-link" href="tljh_customize_deployment.html" title="next page">Customizing the JupyterHub environment (TLJH)</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright .<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>